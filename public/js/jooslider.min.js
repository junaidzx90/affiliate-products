class JooSlider{constructor(e){this.wrapper=e.warpper,this.slider=e.slider,this.next=e.next,this.prev=e.prev,this.speed=e.speed,this.thumbnails=e.thumbnails,this.thumb=e.thumb,this.thumbSize=e.thumbSize,this.zoombtn=e.zoomClass,this.closeScreen=e.closeZoom,this.zoomTriggered=!0,this.update();let r=this;jQuery(jQuery(this.wrapper)[0]).on("fullscreenchange",(function(){document.fullscreenElement||r.closeFullscreen()}))}update(){let e=this,r=e.thumb,s=e.thumbSize,t=e.zoombtn,n=e.closeScreen,u=e.wrapper,c=e.slider,l=0,i=jQuery(e.slider).children().length;jQuery(c).css("width",100*i+"%"),jQuery(c).css("left",0);let o=0;jQuery(c).children().each((function(e,r){0==e&&jQuery(this).addClass("current"),jQuery(this).attr("data-pos",o),o+=100})),jQuery(e.prev).on("click",(function(){jQuery(c).find(".current").prev().length>0&&(jQuery(c).find(".current").removeClass("current").prev().addClass("current"),l=jQuery(c).find(".current").attr("data-pos"),jQuery(c).animate({left:-l+"%"},e.speed),document.fullscreenElement&&jQuery(c).find(".current").css("background-size","contain"))})),jQuery(e.next).on("click",(function(){jQuery(c).find(".current").next().length>0&&(jQuery(c).find(".current").removeClass("current").next().addClass("current"),l=jQuery(c).find(".current").attr("data-pos"),jQuery(c).animate({left:-l+"%"},e.speed),document.fullscreenElement&&jQuery(c).find(".current").css("background-size","contain"))}));let d=0;for(let r=0;r<s;r++){let s=jQuery(c).find("[data-pos='"+d+"']").attr("data-url");i>r&&(jQuery(e.thumbnails).append(`<li data-pos="${d}" class="thumb"><img src="${s}"></li>`),d+=100)}jQuery(e.thumbnails).children("li").last().append('<span class="zoom"><svg class="zoom" xmlns="http://www.w3.org/2000/svg" style="width:28px;height:28px" viewBox="0 0 24 24"><path fill="currentColor" d="M13 10h-3v3h-2v-3h-3v-2h3v-3h2v3h3v2zm8.172 14l-7.387-7.387c-1.388.874-3.024 1.387-4.785 1.387-4.971 0-9-4.029-9-9s4.029-9 9-9 9 4.029 9 9c0 1.761-.514 3.398-1.387 4.785l7.387 7.387-2.828 2.828zm-12.172-8c3.859 0 7-3.14 7-7s-3.141-7-7-7-7 3.14-7 7 3.141 7 7 7z"></path></svg></span>'),jQuery(r).on("click",(function(){let r=jQuery(this).attr("data-pos");jQuery(c).find("[data-pos='"+r+"']").length>0&&(jQuery(c).find(".current").removeClass("current"),jQuery(c).find("[data-pos='"+r+"']").addClass("current"),jQuery(c).animate({left:-r+"%"},e.speed))})),jQuery(document).on("click","."+t,(function(r){jQuery(n).css("display","flex"),jQuery(".zoom_wrapper").hide(),jQuery(c).find(".current").css("background-size","contain"),e.zoomTriggered&&(e.openFullscreen(jQuery(u)[0]),e.zoomTriggered=!1)})),jQuery(n).on("click",(function(){e.closeFullscreen()}))}openFullscreen(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}closeFullscreen(){document.fullscreenElement?(document.exitFullscreen(),jQuery(".zoom_wrapper").show(),jQuery(this.closeScreen).hide(),jQuery(slider).find(".current").css("background-size","cover"),this.zoomTriggered=!0):document.webkitExitFullscreen?(document.webkitExitFullscreen(),jQuery(".zoom_wrapper").show(),jQuery(this.closeScreen).hide(),jQuery(slider).find(".current").css("background-size","cover"),this.zoomTriggered=!0):document.msExitFullscreen&&(document.msExitFullscreen(),jQuery(".zoom_wrapper").show(),jQuery(this.closeScreen).hide(),jQuery(slider).find(".current").css("background-size","cover"),this.zoomTriggered=!0)}}